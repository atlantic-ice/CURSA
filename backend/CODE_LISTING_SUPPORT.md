# Поддержка листингов программного кода

## Обзор

Система нормоконтроля теперь поддерживает корректное оформление листингов программного кода в курсовых работах по программированию.

## Исключения для листингов кода

### Допустимые шрифты для кода
- **Courier New** (рекомендуемый)
- **Consolas**
- **Monaco** 
- **Menlo**
- **Source Code Pro**
- **Fira Code**

### Допустимые размеры шрифта
- **12pt** - стандартный размер для листингов кода
- **14pt** - основной текст документа

## Автоматическое определение листингов кода

Система автоматически определяет листинги кода по следующим признакам:

### 1. Ключевые слова программирования
- `def`, `function`, `class`, `if`, `else`, `elif`, `for`, `while`, `return`
- `import`, `include`, `#include`, `using`, `namespace`

### 2. Типы данных и операторы
- `int`, `string`, `char`, `float`, `double`, `boolean`, `void`
- `public`, `private`, `protected`
- `=>`, `->`, `++`, `--`, `==`, `!=`, `<=`, `>=`

### 3. Синтаксические конструкции
- Фигурные скобки: `{}`
- Точки с запятой: `;`
- Круглые скобки в функциях: `()`

### 4. Языково-специфичные конструкции
- **Python**: `print()`, `def`, отступы
- **JavaScript**: `console.log()`, `function`
- **C/C++**: `printf()`, `cout`, `cin`, `scanf`
- **HTML/CSS**: теги `<...>`, CSS правила `{property: value}`
- **SQL**: `SELECT`, `FROM`, `WHERE`, `INSERT`, `UPDATE`

### 5. Стиль параграфа
- Стили содержащие слова: `code`, `listing`, `программ`

### 6. Отступы кода
- Параграфы с отступом 4+ пробелов в начале строки

## Примеры корректного оформления

### Python код
```python
def calculate_factorial(n):
    if n <= 1:
        return 1
    return n * calculate_factorial(n - 1)
```
**Шрифт**: Courier New 12pt

### JavaScript код  
```javascript
function calculateSum(a, b) {
    return a + b;
}
```
**Шрифт**: Consolas 12pt

### SQL запрос
```sql
SELECT name, age 
FROM students 
WHERE age > 18;
```
**Шрифт**: Courier New 12pt

## Преимущества

1. **Соответствие стандартам** - листинги кода оформляются согласно требованиям ГОСТ
2. **Читаемость** - моноширинные шрифты обеспечивают лучшую читаемость кода
3. **Автоматическое определение** - не требует ручной настройки
4. **Гибкость** - поддержка множества языков программирования

## Техническая реализация

Функция `_is_code_listing()` в `norm_control_checker.py` анализирует:
- Текст параграфа на наличие ключевых слов
- Стиль параграфа
- Используемый шрифт
- Синтаксические паттерны

При обнаружении листинга кода система автоматически применяет исключения для требований к шрифту.
